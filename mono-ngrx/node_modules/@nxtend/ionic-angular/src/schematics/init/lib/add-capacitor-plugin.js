"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addCapacitorPlugin = void 0;
const schematics_1 = require("@angular-devkit/schematics");
const workspace_1 = require("@nrwl/workspace");
const versions_1 = require("../../../utils/versions");
function addCapacitorPlugin() {
    return (host) => {
        const packageJson = workspace_1.readJsonInTree(host, 'package.json');
        const hasNxtendCapacitorDep = packageJson.dependencies && packageJson.dependencies['@nxtend/capacitor'];
        const hasNxtendCapacitorDevDep = packageJson.devDependencies &&
            packageJson.devDependencies['@nxtend/capacitor'];
        if (!hasNxtendCapacitorDep && !hasNxtendCapacitorDevDep) {
            return workspace_1.addDepsToPackageJson({}, {
                '@nxtend/capacitor': versions_1.nxtendCapacitorVersion,
            });
        }
        else {
            return schematics_1.noop();
        }
    };
}
exports.addCapacitorPlugin = addCapacitorPlugin;
//# sourceMappingURL=add-capacitor-plugin.js.map