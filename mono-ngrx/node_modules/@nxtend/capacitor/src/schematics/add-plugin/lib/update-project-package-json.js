"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.updateProjectPackageJson = void 0;
function updateProjectPackageJson(options) {
    return (host) => {
        if (!host.exists(`${options.projectRoot}/package.json`)) {
            return host.create(`${options.projectRoot}/package.json`, JSON.stringify({
                name: options.project,
                dependencies: {
                    [options.plugin]: options.version,
                },
            }));
        }
        const packageJson = JSON.parse(host.read(`${options.projectRoot}/package.json`).toString());
        if (!packageJson.dependencies) {
            packageJson.dependencies = {};
        }
        if (!packageJson.dependencies[options.plugin]) {
            packageJson.dependencies[options.plugin] = options.version;
        }
        return host.overwrite(`${options.projectRoot}/package.json`, JSON.stringify(packageJson));
    };
}
exports.updateProjectPackageJson = updateProjectPackageJson;
//# sourceMappingURL=update-project-package-json.js.map