"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.updateProjectGitIgnore = void 0;
const ignore_1 = require("ignore");
function updateProjectGitIgnore(options) {
    return (host) => {
        if (!host.exists(`${options.projectRoot}/.gitignore`)) {
            return host.create(`${options.projectRoot}/.gitignore`, '/node_modules\n');
        }
        const ig = ignore_1.default();
        ig.add(host.read(`${options.projectRoot}/.gitignore`).toString());
        if (!ig.ignores('node_modules')) {
            const content = `${host
                .read(`${options.projectRoot}/.gitignore`)
                .toString('utf-8')
                .trimRight()}\n/node_modules\n`;
            host.overwrite(`${options.projectRoot}/.gitignore`, content);
        }
    };
}
exports.updateProjectGitIgnore = updateProjectGitIgnore;
//# sourceMappingURL=update-project-gitignore.js.map